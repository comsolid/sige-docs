<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>Instalação | SiGE - Documentação</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.5.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
        
    
    
    <link rel="next" href="../sections/README.html" />
    
    
    <link rel="prev" href="../index.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book" data-level="1" data-basepath=".." data-revision="1426648879463">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="1" data-path="section-install/README.html">
            
                
                    <a href="../section-install/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Instalação
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="sections/README.html">
            
                
                    <a href="../sections/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         section 1
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="section1/page1.html">
            
                
                    <a href="../section1/page1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         example 1
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="section1/page2.html">
            
                
                    <a href="../section1/page2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         example 2
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="sections/README.html">
            
                
                    <a href="../sections/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         section 2
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="section2/page1.html">
            
                
                    <a href="../section2/page1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         example 1
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >SiGE - Documentação</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_2">
                    
                        <h1 id="instalao-e-configurao">Instalação e Configuração</h1>
<p>Programas necessários:</p>
<ul>
<li>PostgreSQL;</li>
<li>Apache HTTP Server: <code>sudo apt-get install apache2</code>;</li>
<li>php5: <code>sudo apt-get install php5 php5-pgsql libapache2-mod-php5</code>;<ul>
<li>extensão intl: <code>sudo apt-get install php5-intl</code>;</li>
<li>extensão GD: <code>sudo apt-get install php5-gd</code>;</li>
</ul>
</li>
<li>Zend Framework;</li>
<li>git (opcional);</li>
</ul>
<h2 id="base-de-dados">Base de dados</h2>
<h3 id="schema-da-base-de-dados">Schema da Base de dados</h3>
<p>A instalação da base de dados é feita pelo arquivo <code>ddl-schema.sql</code>. Abra o arquivo
e defina alguns parâmetros:</p>
<p>Encoding do servidor</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">SET</span> client_encoding = <span class="hljs-string">'LATIN1'</span>;</span>
</code></pre>
<p>ou</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">SET</span> client_encoding = <span class="hljs-string">'UTF8'</span>;</span>
</code></pre>
<p>Permissão ao usuário do banco de dados</p>
<pre><code class="lang-sql">REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
<span class="hljs-operator"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">SCHEMA</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">TO</span> postgres;</span>
<span class="hljs-operator"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">SCHEMA</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">TO</span> <span class="hljs-keyword">PUBLIC</span>;</span>
</code></pre>
<p>Modifique <code>postgres</code> para seu usuário.</p>
<p>Note que o script possui <code>START TRANSACTION;</code> e <code>ROLLBACK;</code>. Faça um teste inicial
e execute o script para se certificar que tudo irá correr bem. Por fim substitua
o comando <code>ROLLBACK;</code> por <code>COMMIT;</code> e execute novamente o script.</p>
<h4 id="observao">Observação:</h4>
<p>Para PostgreSQL 9.2 para trás comentar a linha 12:</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">SET</span> lock_timeout = <span class="hljs-number">0</span>;</span>
</code></pre>
<p>Para isso basta colocar <code>--</code> no início, dessa forma:</p>
<pre><code class="lang-sql"><span class="hljs-comment">--SET lock_timeout = 0;</span>
</code></pre>
<p>Esse comando faz parte das versões 9.3 para frente, mas não prejudica o uso de versões
mais antigas.</p>
<h3 id="dados-iniciais-do-sistema">Dados iniciais do sistema</h3>
<p>A inserção dos dados iniciais pode ser encontrada em <code>ddl-dados-iniciais.sql</code>.
Modifique as tabelas <code>estado, instituicao, municipio e sala</code> de acordo com sua necessidade.</p>
<p><strong>obs.:</strong> para base de dados que usam codificação <code>LATIN1</code> utilize o script <code>ddl-dados-iniciais-latin1.sql</code>.</p>
<p>As outras tabelas já estão devidamente preparadas.</p>
<p>Teste a execução de script e remova <code>START TRANSACTION;</code> e <code>ROLLBACK;</code>.</p>
<h3 id="criando-um-novo-encontro">Criando um novo encontro</h3>
<p>O primeiro passo para criar um encontro, e adicionar um registro na tabela <code>encontro</code>
da seguinte forma:</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> encontro(nome_encontro, apelido_encontro, data_inicio, data_fim,
    periodo_submissao_inicio, periodo_submissao_fim)
    <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'I Encontro de Software Livre'</span>, <span class="hljs-string">'I ESL'</span>, <span class="hljs-string">'2013-11-07'</span>, <span class="hljs-string">'2013-11-09'</span>,
    <span class="hljs-string">'2013-05-01'</span>, <span class="hljs-string">'2013-11-06'</span>);</span>
</code></pre>
<p><strong>obs.:</strong> a coluna <code>ativo</code> será removida em breve.</p>
<p>Depois verifique o <code>id_encontro</code> gerado e crie dois registros na tabela <code>mensagem_email</code>,
um para cada mensagem de <code>tipo_mensagem_email</code>:</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> mensagem_email(id_encontro, id_tipo_mensagem_email,
        mensagem, assunto, link)
    <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'Nome: {nome}, E-mail: {email}, Senha: {senha},
        &lt;a href="{href_link}" target="_blank"&gt;Clique aqui&lt;/a&gt;'</span>,
        <span class="hljs-string">'I ESL - Cadastro Encontro'</span>,
        <span class="hljs-string">'http://www.esl.org/login'</span>);</span>
</code></pre>
<p><strong>obs.:</strong> Note que a <code>mensagem</code> traz elementos dentro de <code>{}</code>. Eles são utilizados no PHP
para substiruir valores reais, tornando a mensagem dinâmica.</p>
<p>Vale lembrar que a mensagem pode ser escrita em HTML. Coloque apenas tags referentes ao <code>body</code>.</p>
<p>Outro ponto importante é configurar o <em>enconding</em> ao inserir um encontro e suas mensagens.
Para isso adicione <code>SET client_encoding = &#39;LATIN1&#39;;</code> no início do <em>insert</em>.</p>
<p>Da mesma forma crie a mensagem de recuperação de senha:</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> mensagem_email(id_encontro, id_tipo_mensagem_email,
        mensagem, assunto, link)
    <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'Nome: {nome}, E-mail: {email}, Senha: {senha},
        &lt;a href="{href_link}" target="_blank"&gt;Clique aqui&lt;/a&gt;'</span>,
        <span class="hljs-string">'I ESL - Recuperar Senha'</span>,
        <span class="hljs-string">'http://www.esl.org/login'</span>);</span>
</code></pre>
<p>Por ser um exemplo, as mensagens ficaram uma muito parecida com a outra. Você deve adaptar
de acordo com seu encontro.</p>
<p><strong>obs.:</strong> esse passo serve somente para o primeiro encontro. Os demais podem ser criados
a partir do SiGE em <code>/adim/encontro/criar/</code>.</p>
<h2 id="sige">SiGE</h2>
<h3 id="zend">Zend</h3>
<p>A versão utilizada pelo SiGE é <a href="http://framework.zend.com/downloads/latest#ZF1" title="Zend 1.12.9" target="_blank">Zend 1.12.9</a>.</p>
<p>A instalação é bem simples. Basta copiarmos o Zend para um diretório de bibliotecas do sistema.
Baixe o pacote Full, descompacte e siga as instruções em um terminal:</p>
<pre><code>$ sudo su
# mv ZendFramework-1.12.9 /usr/local/lib
# cd /usr/local/lib
# ln -s ZendFramework-1.12.9 zend
</code></pre><h3 id="baixando-sige-do-github-para-desenvolvimento">Baixando SiGE do Github para desenvolvimento</h3>
<p>Para realizar clone da última versão do SiGE:</p>
<pre><code>$ git clone https://github.com/comsolid/sige.git
</code></pre><p><strong>obs.:</strong> é necessário instalar o git. No Ubuntu podemos instalar através do comando:</p>
<pre><code>$ sudo apt-get install git
</code></pre><p><strong>obs.:</strong> instale a partir do repositório somente se você está interessado em contribuir,
estudar o código ou apenas testando.</p>
<h3 id="baixando-verso-estvel-sige">Baixando versão estável SiGE</h3>
<p>Procure pela versão mais atual do SiGE em:</p>
<p><a href="https://github.com/comsolid/sige/releases" target="_blank">https://github.com/comsolid/sige/releases</a></p>
<p>Renomeie a pasta para <code>sige</code> caso necessário.</p>
<h3 id="configurando-virtualhost">Configurando VirtualHost</h3>
<p>Para simular um host no mundo real que utiliza Zend precisamos criar um VirtualHost no apache.
Com o Apache devidamente instalado, crie um arquivo em <code>/etc/apache2/sites-enable/</code>
chamado <code>sige</code>. Nele copie o seguinte conteúdo, modificando conforme necessidade:</p>
<pre><code>&lt;VirtualHost *:80&gt;
   ServerName sige.local

   DocumentRoot /var/www/sige/public
   &lt;Directory &quot;/var/www/sige/public&quot;&gt;
      AllowOverride All
   &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre><p>Adicionaremos o <code>ServerName</code> ao <code>/etc/hosts</code>:</p>
<pre><code>127.0.0.1       localhost
# adicione a linha abaixo
127.0.0.1       sige.local
</code></pre><p><strong>Obs.:</strong> este trecho deve ser feito apenas em ambiente de desenvolvimento.</p>
<p>Habilite o <code>mod rewrite</code> do apache: <code>$ sudo a2enmod rewrite</code>.</p>
<p>Reinicie o Apache: <code>$ sudo service apache2 restart</code>.</p>
<h3 id="instalar-o-zend-no-sige">Instalar o Zend no SiGE</h3>
<p>A instalação é bem simples, apenas crie um link simbólico dentro do diretório do
projeto (daqui para frente chamadado de <code>${SiGE}</code>) em <code>${SIGE}/library</code>:</p>
<pre><code>$ sudo su
# cd /var/www/sige/library
# ln -s /usr/local/lib/zend/library/Zend
</code></pre><h4 id="observao">Observação:</h4>
<p>Caso você não tenha permissão para instalar bibliotecas no sistema, por exemplo se você contratou um
serviço externo, você pode copiar o Zend diretamente na pasta <code>library</code> do SiGE. Faça:</p>
<pre><code>$ cp -R /caminho/para/ZendFramework1.12.9/library/Zend ${SiGE}/library
</code></pre><p>Caso use FTP suba o diretório para o mesmo local.</p>
<p><strong>TODO</strong>: explicar instalação mpdf <a href="http://mpdf1.com/manual/index.php?tid=509" target="_blank">http://mpdf1.com/manual/index.php?tid=509</a></p>
<h3 id="permitir-escrita-para-htmlpurifier-e-captcha">Permitir escrita para HTMLPurifier e Captcha</h3>
<p>É necessário dar permissão total a dois diretórios, faça:</p>
<pre><code>$ cd ${SiGE}/library/HTMLPurifier/DefinitionCache/
$ mkdir Serializer
$ chmod 777 Serializer/
$ cd ${SiGE}/public/
$ mkdir captcha
$ chmod 777 captcha/
</code></pre><h3 id="configurar-sige-para-ambiente-de-produo">Configurar SiGE para ambiente de produção</h3>
<pre><code>$ cd ${SiGE}/public
$ nano .htaccess
</code></pre><p>Mude <code>SetEnv APPLICATION_ENV development</code> para <code>SetEnv APPLICATION_ENV production</code>.</p>
<h3 id="configurar-conexo-com-base-de-dados">Configurar conexão com base de dados</h3>
<p>Com o projeto configurado vamos editar os parâmetros de conexão com o PostgreSQL.
Dentro do diretório do projeto abra o arquivo <code>${SiGE}/application/configs/application.ini</code>,
copie os dados para a seção <code>[production]</code> (cole abaixo de <code>autoloaderNamespaces[] = &quot;Sige&quot;</code>)
e edite os parâmetros abaixo:</p>
<pre><code class="lang-ini">resources.db.params.host     = &quot;localhost&quot;
resources.db.params.dbname   = &quot;database&quot;
resources.db.params.username = &quot;postgres&quot;
resources.db.params.password = &quot;**secret**&quot;
</code></pre>
<h3 id="configurar-smtp-para-envio-de-e-mail">Configurar SMTP para envio de e-mail</h3>
<p>Temos também que configurar o envio de e-mail para validar participantes, recuperação de
senhas, etc. Ainda no arquivo <code>${SiGE}/application/configs/application.ini</code>,
copie o trecho a seguir e cole logo abaixo dos dados da conexão com o banco. Edite o trecho:</p>
<pre><code class="lang-ini">resources.mail.transport.type = &quot;smtp&quot;; não precisa editar
resources.mail.transport.host = &quot;smtp.esl.com&quot;; servidor gmail: smtp.gmail.com
resources.mail.transport.port = &quot;587&quot;;465
resources.mail.transport.ssl  = &quot;tls&quot;
resources.mail.transport.auth = &quot;login&quot;; não precisa editar
resources.mail.transport.username   = &quot;esl@esl.org&quot;;
resources.mail.transport.password   = &quot;**secret**&quot;
resources.mail.transport.register   = true; True by default
resources.mail.defaultFrom.email    = &quot;esl@esl.org&quot;
resources.mail.defaultFrom.name     = &quot;I ESL&quot;
resources.mail.defaultReplyTo.email = &quot;esl@esl.org&quot;
resources.mail.defaultReplyTo.name  = &quot;I ESL&quot;
</code></pre>
<p><strong>obs.:</strong> para a linha <code>resources.mail.transport.port</code>:</p>
<ul>
<li>587 is the Outgoing server (SMTP) port for IMAP. It uses a TLS encryption connection.</li>
<li>587 é a porta de Saída de serviço (SMTP) para IMAP. Ela usa conexão TLS criptografada.</li>
<li>465 is the Outgoing server (SMTP) port for POP. It uses an SSL encryption connection.</li>
<li>465 é a porta de Saída de serviço (SMTP) para POP. Ela usa conexão SSL criptografada.</li>
</ul>
<p>Mais detalhes em <a href="http://framework.zend.com/manual/1.12/en/zend.application.available-resources.html#zend.application.available-resources.mail" title="Zend_Mail" target="_blank">Zend_Mail</a>.</p>
<h3 id="configurar-encontro">Configurar Encontro</h3>
<p>Após criar um encontro no banco de dados, temos um <code>id_encontro</code>. No arquivo
<code>${SiGE}/application/configs/application.ini</code> edite a linha:</p>
<pre><code class="lang-ini">encontro.codigo = 1
</code></pre>
<h4 id="observao">Observação:</h4>
<p>Mude o valor a cada novo encontro.</p>
<h3 id="crie-o-primeiro-usurio-administrador">Crie o primeiro usuário administrador</h3>
<p>Abra o SiGE no navegador e crie um usuário. Se tudo der certo um e-mail com uma
senha padrão foi enviado para você. Tente fazer um login.</p>
<p>No banco de dados, na tebela <code>pessoa</code>, modifique a coluna <code>administrador</code> para <code>true</code>.</p>
<h3 id="traduo-i18n">Tradução (i18n)</h3>
<p>Para traduzir as mensagens do SiGE você deve editar o arquivo <code>${SiGE}/application/Bootstrap.php</code>.
Na função <code>_initTranslate</code> edite a linha:</p>
<pre><code class="lang-php"><span class="hljs-variable">$locale</span> = <span class="hljs-string">"pt_BR"</span>;
</code></pre>
<p>Verifique as traduções disponíveis em <code>${SiGE}/application/langs</code>. Coloque em <code>$locale</code> o mesmo
nome do diretório da sua língua padrão.</p>
<p>Para traduzir as mensagens que estão nos arquivos Javascript abra o arquivo
<code>${SiGE}/application/layouts/scripts/twbs3.phtml</code>.</p>
<p>Procure a linha:</p>
<pre><code class="lang-php"><span class="hljs-variable">$this</span>-&gt;headScript()-&gt;prependFile(<span class="hljs-variable">$this</span>-&gt;baseUrl(<span class="hljs-string">'js/jed/locale/pt_BR.js'</span>));
</code></pre>
<p>e mude para a língua desejada. As opções estão em <code>${SiGE}/public/js/jed/locale</code>.</p>
<h3 id="certificados">Certificados</h3>
<p>Os arquivos relativos aos certificados, participante e palestrante, ficam localizados
em <code>${SiGE}/public/img/certificados/</code>. Lá teremos um diretório <code>default/</code> que contém
arquivos iniciais para que um certificado possa ser gerado sem nenhuma configuração.</p>
<p>Para criar certificados para um determinado encontro devemos criar um diretório
em <code>${SiGE}/public/img/certificados/</code> com o <code>id_encontro</code> do encontro. Por exemplo,
se <code>id_encontro</code> for 1, criaremos o diretório <code>${SiGE}/public/img/certificados/1/</code>.</p>
<p>Utilize os arquivos <code>modelo.svg</code> e <code>assinatura-modelo.svg</code> dentro de <code>${SiGE}/public/img/certificados/default/</code>
como modelos para a criação de seus certificados. Eles possuem as marcações e os tamanhos
específicos. Os tamanhos são:</p>
<p><strong>Arquivo</strong>            <strong>Tamanho</strong></p>
<hr>
<p>modelo.svg             1052x744 (mesmo tamanho de uma folha A4 paisagem)
assinatura-modelo.svg  250x140</p>
<p><strong>obs.:</strong> o arquivo <code>modelo.svg</code> possui camadas para que ao trabalhar em cima do molde
você não se atrapalhe com outros objetos. Usando Inkscape acesse as camadas com o comando
<em>Shift + Ctrl + L</em>.</p>
<p>Após finalização do modelo, exporte o arquivo para <strong>JPG</strong>. Como o Inkscape não
exporta diretamente para essa extensão, utilize o GIMP para essa tarefa.</p>
<p>O certificado do SiGE suporta até três assinaturas. Para isso você deve exportar o arquivo
de assinatura da seguinte forma: <code>assinatura-1.png</code> - para que a assinatura apareça
a esquerda do certificado, <code>assinatura-2.png</code> - para que a assinatura apareça no centro
e <code>assinatura-3.png</code> - para que apareça a direita.</p>
<p>As assinaturas são opcionais e podem ser usadas da maneira que você deseja. Por exemplo,
se você possui um certificado que tenha algum detalhes no centro você pode optar por
criar apenas as assinaturas <code>assinatura-1.png</code> e <code>assinatura-3.png</code>.</p>
<p><strong>obs.:</strong> Note que o arquivo de assinaturas possui a extensão <strong>PNG</strong>. Por ser uma
imagem pequena e que necessita de <em>alpha</em>, optamos por usá-la.</p>
<p>\newpage</p>
<p>Abaixo uma simulação da árvore de diretórios <code>${SiGE}/public/img/certificados/</code>:</p>
<pre><code>${SiGE}/public/img/certificados/
|
+ -- 1/
|    |
|    + -- modelo.jpg
|         assinatura-1.png
|         assinatura-3.png
|
+ -- default/
     |
     + -- modelo.jpg
          modelo.svg
          assinatura-modelo.png
          assinatura-1.png
</code></pre><h3 id="dados-do-evento">Dados do evento</h3>
<p>A página inicial contém os dados do evento. Para modificar os dados basta editar o arquivo
<code>${SiGE}/public/js/index/index.js</code>.</p>
<p>Nesse arquivo temos um objeto chamado <code>conference</code>, no qual você vai descrever seu encontro.</p>
<p>Comece editando o nome curto do encontro, juntamente com o nome completo, por exemplo:</p>
<pre><code class="lang-javascript">short_name: <span class="hljs-string">'COMSOLiD'</span>,
full_name: <span class="hljs-string">'Comunidade Maracanauense de Software Livre e Inclusão Digital'</span>,
</code></pre>
<h4 id="contagem-regressiva">Contagem Regressiva</h4>
<p>Para modficar a data e os dados referentes a contagem regressiva que aparece na página
inicial do SiGE, modifique os atributos <code>starts_at</code> e <code>ends_at</code>, por exemplo:</p>
<pre><code class="lang-javascript">starts_at:  moment(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2014</span>, <span class="hljs-number">11</span>, <span class="hljs-number">16</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0</span>)),
ends_at:  moment(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2014</span>, <span class="hljs-number">11</span>, <span class="hljs-number">19</span>, <span class="hljs-number">17</span>, <span class="hljs-number">0</span>)),
</code></pre>
<p><strong>obs.:</strong> lembrando que em Javascript os meses vão de 0 a 11.</p>
<pre><code>month
    Integer value representing the month, beginning with 0 for January to 11 for December.
</code></pre><p>Fonte: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date</a></p>
<h4 id="caractersticas-do-encontro">Características do encontro</h4>
<p>Defina as características ou <em>features</em> do seu encontro, por exemplo:</p>
<pre><code class="lang-javascript">features: {
    columns: <span class="hljs-number">3</span>,
    list: [
        {
            title: <span class="hljs-string">'Feature 1'</span>,
            description: <span class="hljs-string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'</span>,
            icon: <span class="hljs-string">'fa-graduation-cap'</span>
        },
        {
            title: <span class="hljs-string">'Feature 2'</span>,
            description: <span class="hljs-string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'</span>,
            icon: <span class="hljs-string">'fa-gamepad'</span>
        },
        {
            title: <span class="hljs-string">'Feature 3'</span>,
            description: <span class="hljs-string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit...'</span>,
            icon: <span class="hljs-string">'fa-desktop'</span>
        }
    ]
},
</code></pre>
<p>O atributo <code>columns</code> pode ter valor <code>2</code> ou <code>3</code>.
Você pode criar quantas <code>features</code> quiser adicionando ao atributo <code>list</code>.</p>
<p>É recomendado que você crie no máximo <code>6</code> features, para que não polua muito a página.</p>
<p>Os ícones são do <em>toolkit</em> <a href="https://fortawesome.github.io/Font-Awesome/" target="_blank">FontAwesome</a>.
Acesse o link <a href="https://fortawesome.github.io/Font-Awesome/icons/" target="_blank">Icons</a> e veja as opções.</p>
<h4 id="mapa">Mapa</h4>
<p>Modifique as coordenadas do local onde acontecerá seu encontro, por exemplo:</p>
<pre><code class="lang-javascript">map: {
    latitude: -<span class="hljs-number">3.87259</span>,
    longitude: -<span class="hljs-number">38.610976</span>,
    zoom: <span class="hljs-number">17</span>,
    address: <span class="hljs-string">'IFCE - Campus Maracanaú - Av. Parque Central...'</span>
}
</code></pre>
<p><strong>Obs.:</strong> Existem algumas políticas de uso referentes ao OpenStreetMap (api usada para mostrar o mapa).
Para um bom uso da api:</p>
<ul>
<li>Use somente <code>User-Agent</code> válidos;</li>
<li>Não envie cabeçalhos <code>no-cache</code> (&quot;Cache-Control: no-cache&quot;, &quot;Pragma: no-cache&quot; etc);</li>
<li>Faça cache do <code>Tile</code> (<code>Tile</code> é a imagem do mapa obitida através da api, como o local não deve mudar, esse recurso deve ficar em cache);</li>
<li>No máximo são usadas duas threads de download.</li>
</ul>
<p>Browsers modernos com a configuração padrão geralmente passam por todas as especificações acima.</p>
<p>Referência:</p>
<ul>
<li><a href="http://wiki.openstreetmap.org/wiki/Tile_usage_policy" target="_blank">http://wiki.openstreetmap.org/wiki/Tile_usage_policy</a></li>
<li><a href="https://leanpub.com/leaflet-tips-and-tricks/read" target="_blank">https://leanpub.com/leaflet-tips-and-tricks/read</a></li>
</ul>
<h4 id="redes-sociais">Redes Sociais</h4>
<p>A última página contém os links para as redes sociais do seu encontro.
Edite de acordo com o exemplo abaixo:</p>
<pre><code class="lang-javascript">social_networks: [
    {
        url: <span class="hljs-string">'https://twitter.com/comsolid'</span>,
        channel: <span class="hljs-string">'twitter'</span>
    },
    {
        url: <span class="hljs-string">'https://facebook.com/comsolid'</span>,
        channel: <span class="hljs-string">'facebook'</span>
    },
    {
        url: <span class="hljs-string">'https://github.com/comsolid'</span>,
        channel: <span class="hljs-string">'github'</span>
    },
],
</code></pre>
<p>Os botões são gerados usando o <a href="http://noizwaves.github.io/bootstrap-social-buttons/3/" target="_blank">Social Buttons 3</a>,
utilize os nomes oferecidos pela api.</p>
<h4 id="por-que-as-configuraes-em-js-e-no-no-banco-de-dados">Por que as configurações em JS e não no banco de dados?</h4>
<p>Você pode estar se perguntado isso e a resposta é:</p>
<blockquote>
<p>Essas configurações são feitas apenas uma vez, e nós da COMSOLiD achamos que seria trabalhoso para o servidor ter que
    carregar essas informações do banco de dados cada vez que a página fosse acessada.</p>
</blockquote>
<h4 id="twitter">Twitter</h4>
<p>No arquivo <code>${SiGE}/application/configs/application.ini</code>
altere as linhas:</p>
<pre><code class="lang-ini">twitter.username = &quot;els&quot;; sem &quot;@&quot;
twitter.hashtags = &quot;els1&quot;; sem &quot;#&quot; e separadas por &quot;,&quot;
</code></pre>
<h3 id="layout-do-sistema">Layout do Sistema</h3>
<p>Por usar o Twitter Bootstrap 3, fica mais fácil mudar o tema, ou até mesmo criar um.</p>
<p>O SiGE suporta por padrão 3 temas:</p>
<ul>
<li><a href="http://getbootstrap.com/" target="_blank">Padrão</a></li>
<li><a href="http://bootswatch.com/lumen/" target="_blank">Lumen</a></li>
<li><a href="http://bootswatch.com/darkly/" target="_blank">Darkly</a></li>
</ul>
<p>Outros temas podem ser encontrados em <a href="http://bootswatch.com/" target="_blank">Bootswatch</a>.</p>
<p>Para editar o tema edite o arquivo <code>${SiGE}/application/layouts/twbs3.phtml</code>, procure pela linha:</p>
<pre><code class="lang-php"><span class="hljs-variable">$this</span>-&gt;headLink()-&gt;prependStylesheet(
    <span class="hljs-variable">$this</span>-&gt;baseUrl(<span class="hljs-string">'lib/css/bootstrap/default/bootstrap.min.css'</span>));
</code></pre>
<p>e mude <code>default</code> para <code>lumen</code> ou <code>darkly</code> ou ainda um tema que você tenha baixado.</p>
<p>Os temas devem ficar em <code>${SiGE}/lib/css/bootstrap/</code>.</p>
<h3 id="banner-do-sistema">Banner do Sistema</h3>
<p>Para alterar o banner geral basta substituir o arquivo <code>${SiGE}/public/imagens/layout/topo_sige.png</code>.
As dimensões são: <strong>962x135</strong>.</p>
<h3 id="verso-mvel">Versão Móvel</h3>
<p>Edite o arquivo <code>application/layouts/scripts/mobile.phtml</code>:</p>
<p>Linha 44: <code>&lt;h1&gt;COMSOLiD &lt;?=date(&#39;Y&#39;) ?&gt;&lt;/h1&gt;</code></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../index.html" class="navigation navigation-prev " aria-label="Previous page: Introduction"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../sections/README.html" class="navigation navigation-next " aria-label="Next page: section 1"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
